// Default parameters
params {
    base_folder = "/mnt/d/TESTING_SPACE/EGAP_Test_Data"  // Base directory for input data
    compleasm_list = "basidiomycota"  // Default as a string, parsed in main.nf
    in_genus = "Ps"  // Genus prefix for grouping
    cpu_threads = 12  // Number of CPU threads
    output_dir = "${launchDir}/output"  // Output directory
    overlap_threshold = 0.3  // Threshold for BUSCO overlap filtering (bottom 30%)
}

// Process configuration
process {
    cpus = params.cpu_threads  // Allocate CPUs based on params.cpu_threads
    executor = 'local'  // Default to local execution; override with -profile for clusters
    container = "library://eyepsychonaut/egep_pipeline/egep:latest"  // Path to Singularity image
}

// Enable Singularity and set options
singularity {
    enabled = true  // Enable Singularity as the container engine
    autoMounts = true  // Automatically mount host directories (e.g., /mnt/d)
    runOptions = '-B /mnt:/mnt'  // Explicitly bind /mnt to ensure access
}

// Profiles for different execution environments (optional)
profiles {
    local {
        process.executor = 'local'
    }
    slurm {
        process.executor = 'slurm'
        process.queue = 'normal'  // Adjust based on your SLURM setup
    }
}
